<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/foundation/6.2.3/foundation.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/medium-editor/5.21.1/css/themes/default.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/medium-editor/5.21.1/css/medium-editor.min.css">
<link rel="stylesheet" href="/css/jquery.autocomplete.css">
<style>
.medium-editor-element { outline: none; }
</style>
<title>Allou allou!</title>
<style>
</style>
</head>
<body>
<div class="top-bar">
  <div class="top-bar-left">
    <ul class="menu">
      <li><a href="/">Accueil</a></li>
      <li><a href="/exercices">Exercices</a></li>
      <% if (data.roles.indexOf('teacher') !== -1 || data.roles.indexOf('_admin') !== -1) { %>
      <li><a href="/new">Créer un exercice</a></li>
      <% } %>
    </ul>
  </div>
  <div class="top-bar-right">
    <ul class="menu">
      <li class="menu-text"><%- data.name %></li>
      <li><button type="button" class="button">Logout</button></li>
    </ul>
  </div>
</div>
<div class="row column">
<h1 class="title"><%- data.doc ? 'Éditer' : 'Nouvel' %> exercice</h1>

<nav aria-label="You are here:" role="navigation">
  <ul class="breadcrumbs">
    <li><a href="/">Accueil</a></li>
    <li><a href="/exercices">Exercices</a></li>
    <% if (data.doc) { %>
    <li class="disabled">Édition</li>
    <li>
      <span class="show-for-sr">Actuel: </span> <%- data.doc.title %>
    </li>
    <% } else { %>
    <li>
      <span class="show-for-sr">Actuel: </span> Création
    </li>
    <% } %>

  </ul>
</nav>

  <div class="row">
    <div class="column small-12 medium-10 medium-offset-1 large-6 large-offset-3">
      <form method="post">
        <fieldset class="fieldset callout primary">
        <div class="row">
          <div class="small-4 column medium-6">
            <label for="titre-label" class="text-right middle">Titre</label>
          </div>
          <div class="small-8 column medium-6">
            <input type="text" id="titre-label" name="title" value="<%- data.doc && data.doc.title || '' %>" required>
          </div>
        </div>
        <div class="row">
          <div class="small-4 column medium-6">
            <label aria-describedby="descriptifHelpText" for="descriptif-label" class="text-right middle">Énoncé</label>
          </div>
          <div class="small-8 column medium-6">
            <textarea rows="10" id="descriptif-label" name="descriptif" required><%- data.doc && data.doc.descriptif || '' %></textarea>
            <p class="help-text" id="descriptifHelpText">Éditeur WYSIWYG, sélectionner du texte pour le styler.</p>
          </div>
        </div>
        <div class="row">
          <div class="small-4 column medium-6">
            <label for="travail-label" class="text-right middle">Travail</label>
          </div>
          <div class="small-8 column medium-6">
            <input type="text" name="travail" id="travail-label" value="<%- data.doc && data.doc.travail || '' %>">
          </div>
        </div>
        <div class="row">
          <div class="small-4 column medium-6">
            <label for="theme-label" class="text-right middle">Thème</label>
          </div>
          <div class="small-8 column medium-6">
            <input type="text" name="theme" id="theme-label" value="<%- data.doc && data.doc.theme || '' %>">
          </div>
        </div>
        <div class="row">
          <div class="small-4 column medium-6">
            <label for="ponderation-label" class="text-right middle">Pondération</label>
          </div>
          <div class="small-8 column medium-6">
            <input type="number" step="any" id="ponderation-label" name="ponderation" value="<%- data.doc && data.doc.ponderation || '' %>" required>
          </div>
        </div>
        <div class="row">
          <div class="small-offset-4 small-8 medium-6 medium-offset-6 column">
            <input class="button expanded" type="submit" value="<%- data.doc ? 'Éditer' : 'Créer'  %>">
          </div>
        </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/foundation/6.2.3/foundation.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/medium-editor/5.21.1/js/medium-editor.min.js"></script>
<script type="text/javascript" src="/js/jquery.autocomplete.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>
<script type="text/javascript" src="/js/exercice.js"></script>
</body>
</html>
